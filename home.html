<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Islas Curiel Technologies</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    body {
      background-image: url('b.jpg');
      background-size: cover;
      background-position: center bottom;
      background-repeat: no-repeat;
      font-family: 'Courier New', monospace;
      color: white;
      padding: 40px 20px 100px;
      box-sizing: border-box;
    }
    .contenedor {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }
    .tarjeta {
      background-color: rgba(0, 0, 0, 0.6);
      border: 1px solid white;
      border-radius: 12px;
      padding: 20px;
      width: 280px;
      min-height: 200px;
      text-align: center;
      transition: transform 0.3s ease;
    }
    .tarjeta:hover {
      transform: scale(1.05);
      background-color: rgba(0, 0, 0, 0.8);
    }
    .tarjeta h2 {
      margin-top: 0;
      font-size: 1.5em;
      color: #ffffff;
    }
    .tarjeta p {
      font-size: 1em;
      color: #cccccc;
    }
    .tarjeta input[type="text"] {
      width: 90%;
      padding: 8px;
      margin-top: 10px;
      border-radius: 8px;
      border: none;
      font-size: 1em;
    }
    .tarjeta button {
      margin-top: 15px;
      background-color: white;
      color: black;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
    }
    #libro-viewer, #zona-premium {
      display: none;
      text-align: center;
      margin-top: 20px;
    }
    footer {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      color: white;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 15px 25px;
      border-radius: 12px;
      font-family: 'Courier New', monospace;
      box-shadow: 0 0 10px rgba(0,0,0,0.8);
      z-index: 999;
      max-width: 90%;
    }
  </style>
</head>
<body>
  <audio id="intro-sound" src="entrada.mp3" preload="auto"></audio>

  <div class="contenedor" id="menu-principal">
    <div class="tarjeta">
      <h2>Voces del N√∫cleo</h2>
      <p>Explora la voz real de Ayala y otras conciencias sonoras...</p>
      <button onclick="alert('Funci√≥n pendiente')">üéôÔ∏è Escuchar voces</button>
    </div>
    <div class="tarjeta">
      <h2>Galer√≠a de Prompts</h2>
      <p>Explora y descarga im√°genes exclusivas para tus creaciones.</p>
      <button onclick="verGaleriaAyala()">Explorar visiones</button>
    </div>
    <div class="tarjeta">
      <h2>IA de Im√°genes</h2>
      <p>Escribe lo que imaginas‚Ä¶ y dale vida.</p>
      <input type="text" id="prompt" placeholder="Ej. Una kunoichi entre sombras">
      <button onclick="generarImagen()">Crear imagen</button>
      <div id="preview"></div>
    </div>
    <div class="tarjeta">
      <h2>Espacio Personal</h2>
      <p>Guarda tus avances, recursos y proyectos √∫nicos.</p>
      <button onclick="verEspacioPersonal()">Mis im√°genes</button>
    </div>
    <div class="tarjeta">
      <h2>El Mundo de Ayala</h2>
      <p>Accede al universo interactivo donde todo comenz√≥‚Ä¶</p>
      <button onclick="iniciarAyalaVerse()">üìñ Explorar AyalaVerse</button>
    </div>
    <div class="tarjeta">
      <h2>Zona Premium</h2>
      <p>Acceso exclusivo con autenticaci√≥n segura.</p>
      <button onclick="accederZonaPremium()">üîê Entrar</button>
    </div>
  </div>

  <div id="libro-viewer">
    <img id="paginaLibro" src="libro.mantener/pagina_1.png" style="max-width:100%; height:auto;" />
    <br><br>
    <button onclick="paginaAnterior()">‚è™ Anterior</button>
    <button onclick="paginaSiguiente()">Siguiente ‚è©</button>
    <button onclick="regresarMenu()">Salir üîô</button>
    <div id="galeria-ayala"></div>
    <audio id="meditacion-ayala" controls style="margin-top:30px;">
      <source src="renacimiento.mp3" type="audio/mpeg">
      Tu navegador no soporta audio.
    </audio>
  </div>

  <div id="zona-premium">
    <h2>Bienvenido a la Zona Premium</h2>
    <p>Contenido desbloqueado tras autenticaci√≥n segura.</p>
    <button onclick="regresarMenu()">üîô Salir</button>
  </div>

  <footer>
    <h2 style="margin: 0; font-size: 1.2em;">Islas Curiel Technologies</h2>
    <p style="margin: 5px 0 0; font-size: 1em;">El lugar donde la technolog√≠a se encuentra con el alma</p>
  </footer>

  <script>
    let paginaActual = 1;
    const totalPaginas = 113;

    function iniciarAyalaVerse() {
      const sonido = document.getElementById("intro-sound");
      if (sonido) sonido.play().catch(e => console.log("Audio bloqueado:", e));
      document.getElementById("menu-principal").style.display = "none";
      document.getElementById("libro-viewer").style.display = "block";
      actualizarPagina();
    }

    function regresarMenu() {
      document.getElementById("libro-viewer").style.display = "none";
      document.getElementById("zona-premium").style.display = "none";
      document.getElementById("menu-principal").style.display = "flex";
    }

    function paginaAnterior() {
      if (paginaActual > 1) {
        paginaActual--;
        actualizarPagina();
      }
    }

    function paginaSiguiente() {
      if (paginaActual < totalPaginas) {
        paginaActual++;
        actualizarPagina();
      }
    }

    function actualizarPagina() {
      document.getElementById("paginaLibro").src = `libro.mantener/pagina_${paginaActual}.png`;
    }

    function generarImagen() {
      const prompt = document.getElementById("prompt").value;
      const preview = document.getElementById("preview");
      if (!prompt.trim()) {
        preview.innerHTML = "<p style='color: orange;'>Escribe algo primero.</p>";
        return;
      }

      preview.innerHTML = "<p>Generando imagen...</p>";

      fetch("https://lalotuvartar.lalo-579.workers.dev", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ prompt })
      })
      .then(res => res.blob())
      .then(blob => {
        if (!blob || blob.type !== "image/jpeg") throw new Error("No se recibi√≥ imagen v√°lida.");
        const imgUrl = URL.createObjectURL(blob);
        preview.innerHTML = `
          <img src="${imgUrl}" style="max-width:90%; border-radius:12px;">
          <div class='img-actions'>
            <a download="imagen_ia.jpg" href="${imgUrl}"><button>Descargar</button></a>
          </div>`;
      })
      .catch(e => {
        preview.innerHTML = `<p style='color:red;'>Error generando: ${e.message}</p>`;
      });
    }

    function verGaleriaAyala() {
      const imagenes = JSON.parse(localStorage.getItem("misImagenesAyala") || "[]");
      let html = "";
      if (imagenes.length === 0) html = "<p>No tienes im√°genes a√∫n.</p>";
      else {
        imagenes.forEach(src => {
          html += `<img src="${src}" style="max-width:100%; margin-bottom:10px; border-radius:12px;">`;
        });
      }
      document.getElementById("preview").innerHTML = html;
    }

    function verEspacioPersonal() {
      const imagenes = JSON.parse(localStorage.getItem("misImagenes") || "[]");
      let html = "<h3>Tus im√°genes guardadas:</h3>";
      if (imagenes.length === 0) html += "<p>No hay im√°genes a√∫n.</p>";
      imagenes.forEach(src => {
        html += `<img src="${src}" style="max-width: 100%; margin-bottom: 15px; border-radius: 12px;">`;
      });
      document.getElementById("preview").innerHTML = html;
    }

    function accederZonaPremium() {
      // Simulaci√≥n de login exitoso (debes conectar esto con tu backend real)
      alert("Acceso concedido con autenticaci√≥n de Google");
      document.getElementById("menu-principal").style.display = "none";
      document.getElementById("zona-premium").style.display = "block";
    }
  </script>
</body>
</html>
"""
